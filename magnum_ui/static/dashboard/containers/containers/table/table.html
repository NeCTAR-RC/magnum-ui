<table ng-controller="containersContainersTableController as table"
  hz-table ng-cloak
  st-table="table.containers"
  st-safe-src="table.containersSrc"
  default-sort="name"
  default-sort-reverse="false"
  class="table table-striped table-rsp table-detail">

  <thead>
    <!--
      Table-batch-actions:
      This is where batch actions like searching, creating, and deleting.
    -->
    <tr>
      <th colspan="100" class="search-header">
        <hz-magic-search-bar group-classes="input-group-sm" icon-classes="fa-search"
          filter-facets="table.containerFacets">
        </hz-magic-search-bar>
      </th>
    </tr>
    <tr class="action-row">
      <th colspan="100">
        <actions allowed="table.containerResource.batchActions" type="batch"></actions>
      </th>
    </tr>
    <!--
      Table-column-headers:
      The headers for the table columns
    -->
    <tr>
      <th class="multi_select_column">
        <input type="checkbox" hz-select-all="table.containers">
      </th>

      <th class="expander"></th>

      <th class="rsp-p1" st-sort="name" st-sort-default translate>
        Name
      </th>

      <th class="rsp-p2" st-sort="id" translate>
        ID
      </th>

      <th class="rsp-p1" st-sort="status" translate>
        Status
      </th>

      <th class="rsp-p3" st-sort="bay" translate>
        Bay ID
      </th>

      <th class="rsp-p2" st-sort="image" translate>
        Image
      </th>

      <th class="rsp-p3" st-sort="memory" translate>
        Memory
      </th>

      <th class="actions_column" translate>
        Actions
      </th>
    </tr>
  </thead>
  <tbody>
    <!--
      Table-rows:
      This is where we declaratively define the table columns.
      Include multi_select_column if you want to select all.
      Include expander if you want to inline details.
      Include actions_column if you want to perform actions.
      rsp-p1 rsp-p2 are responsive priority as user resizes window.
    -->

    <tr ng-repeat-start="c in table.containers track by c.id">

      <td class="multi_select_column">
        <input type="checkbox"
          ng-model="tCtrl.selections[c.id].checked"
          hz-select="c">
      </td>

      <td class="expander">
        <i class="fa fa-chevron-right"
          hz-expand-detail
          duration="200">
        </i>
      </td>

      <td class="rsp-p1"><a ng-href="project/bays/containers/{$ c.id $}">{$ c.name|noName $}</a></td>
      <td class="rsp-p2">{$ c.id $}</td>
      <td class="rsp-p1">{$ c.status $}</td>
      <td class="rsp-p3"><a ng-href="project/bays/{$ c.bay_uuid $}">{$ c.bay_uuid $}</a></td>
      <td class="rsp-p2">{$ c.image $}</td>
      <td class="rsp-p3">{$ c.memorysize $} {$ c.memoryunit $}</td>

      <td class="actions_column">
        <!--
          Table-row-action-column:
          Actions taken here applies to a single item/row.
        -->
        <actions allowed="table.containerResource.itemActions" type="row" item="c"></actions>
      </td>
    </tr>
    <tr ng-repeat-end class="detail-row">
      <!--
        Detail-row:
        Contains detailed information on this item.
        Can be toggled using the chevron button.
        Ensure colspan is greater or equal to number of column-headers.
      -->
      <td class="detail" colspan="100">
        <!--
          The responsive columns that disappear typically should reappear here
          with the same responsive priority that they disappear.
          E.g. table header with rsp-p2 should be here with rsp-alt-p2
        -->
        <div class="row">
          <span class="rsp-alt-p2">
            <dl class="col-xs-5">
              <dt translate>ID</dt>
              <dd>{$ c.id $}</dd>
            </dl>
            <dl class="col-xs-5">
              <dt translate>Image</dt>
              <dd>{$ c.image $}</dd>
            </dl>
          </span>
          <span class="rsp-alt-p3">
            <dl class="col-xs-5">
              <dt translate>Bay ID</dt>
              <dd><a ng-href="project/bays/{$ c.bay_uuid $}">{$ c.bay_uuid $}</a></dd>
            </dl>
            <dl class="col-xs-2">
              <dt translate>Memory</dt>
              <dd>{$ c.memorysize $} {$ c.memoryunit $}</dd>
            </dl>
          </span>
        </div>
        <div class="row">
          <dl class="col-xs-12">
            <dt translate>Command</dt>
            <dd>{$ c.command $}</dd>
          </dl>
        </div>
      </td>
    </tr>
    <tr hz-no-items items="table.containers"></tr>
  </tbody>
  <!--
    Table-footer:
    This is where we display number of items and pagination controls.
  -->
  <tfoot hz-table-footer items="table.containers"></tfoot>
</table>
